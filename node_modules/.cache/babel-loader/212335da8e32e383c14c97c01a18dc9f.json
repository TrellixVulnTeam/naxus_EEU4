{"ast":null,"code":"var _jsxFileName = \"C:\\\\eticaret\\\\naxus\\\\src\\\\Categories\\\\Products\\\\ProductsContext.jsx\";\nimport React, { createContext } from 'react';\nimport database from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductsContext = /*#__PURE__*/createContext();\nexport class ProductsContextProvider extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      tvies: []\n    };\n  }\n\n  componentDidMount() {\n    const prevProducts = this.state.products;\n    database.collection('Computers').onSnapshot(snapshot => {\n      let changes = snapshot.docChanges();\n      changes.forEach(change => {\n        if (change.type === 'added') {\n          prevProducts.push({\n            ProductID: change.doc.id,\n            ProductName: change.doc.data().ProductName,\n            ProductPrice: change.doc.data().ProductPrice,\n            ProductDescription: change.doc.data().ProductDescription,\n            ProductImg: change.doc.data().ProductImg\n          });\n        }\n\n        this.setState({\n          products: prevProducts\n        });\n      });\n    });\n    const prevTvies = this.state.tvies;\n    database.collection('Tvies').onSnapshot(snapshot => {\n      let changes = snapshot.docChanges();\n      changes.forEach(change1 => {\n        if (change1.type === 'added') {\n          prevTvies.push({\n            ProductID: change1.doc.id,\n            ProductName: change1.doc.data().ProductName,\n            ProductPrice: change1.doc.data().ProductPrice,\n            ProductDescription: change1.doc.data().ProductDescription,\n            ProductImg: change1.doc.data().ProductImg\n          });\n        }\n\n        this.setState({\n          tvies: prevTvies\n        });\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n      value: {\n        products: [...this.state.products],\n        tvies: [...this.state.tvies]\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n;","map":{"version":3,"sources":["C:/eticaret/naxus/src/Categories/Products/ProductsContext.jsx"],"names":["React","createContext","database","ProductsContext","ProductsContextProvider","Component","state","products","tvies","componentDidMount","prevProducts","collection","onSnapshot","snapshot","changes","docChanges","forEach","change","type","push","ProductID","doc","id","ProductName","data","ProductPrice","ProductDescription","ProductImg","setState","prevTvies","change1","render","props","children"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,aAAf,QAAmC,OAAnC;AACA,OAAOC,QAAP,MAAqB,gBAArB;;AAEA,OAAO,MAAMC,eAAe,gBAAGF,aAAa,EAArC;AAEP,OAAO,MAAMG,uBAAN,SAAsCJ,KAAK,CAACK,SAA5C,CAAsD;AAAA;AAAA;AAAA,SAGzDC,KAHyD,GAIzD;AACEC,MAAAA,QAAQ,EAAG,EADb;AAEEC,MAAAA,KAAK,EAAC;AAFR,KAJyD;AAAA;;AASzDC,EAAAA,iBAAiB,GACjB;AACC,UAAMC,YAAY,GAAE,KAAKJ,KAAL,CAAWC,QAA/B;AACAL,IAAAA,QAAQ,CAACS,UAAT,CAAoB,WAApB,EAAiCC,UAAjC,CAA4CC,QAAQ,IAAE;AAClD,UAAIC,OAAO,GAAGD,QAAQ,CAACE,UAAT,EAAd;AACAD,MAAAA,OAAO,CAACE,OAAR,CAAgBC,MAAM,IACnB;AACI,YAAGA,MAAM,CAACC,IAAP,KAAc,OAAjB,EACA;AACIR,UAAAA,YAAY,CAACS,IAAb,CAAkB;AACdC,YAAAA,SAAS,EAAEH,MAAM,CAACI,GAAP,CAAWC,EADR;AAEdC,YAAAA,WAAW,EAAEN,MAAM,CAACI,GAAP,CAAWG,IAAX,GAAkBD,WAFjB;AAGdE,YAAAA,YAAY,EAAER,MAAM,CAACI,GAAP,CAAWG,IAAX,GAAkBC,YAHlB;AAIdC,YAAAA,kBAAkB,EAAGT,MAAM,CAACI,GAAP,CAAWG,IAAX,GAAkBE,kBAJzB;AAKdC,YAAAA,UAAU,EAACV,MAAM,CAACI,GAAP,CAAWG,IAAX,GAAkBG;AALf,WAAlB;AAOH;;AACD,aAAKC,QAAL,CAAc;AACVrB,UAAAA,QAAQ,EAACG;AADC,SAAd;AAGH,OAfJ;AAgBH,KAlBD;AAuBA,UAAMmB,SAAS,GAAE,KAAKvB,KAAL,CAAWE,KAA5B;AACAN,IAAAA,QAAQ,CAACS,UAAT,CAAoB,OAApB,EAA6BC,UAA7B,CAAwCC,QAAQ,IAAE;AAC9C,UAAIC,OAAO,GAAGD,QAAQ,CAACE,UAAT,EAAd;AACAD,MAAAA,OAAO,CAACE,OAAR,CAAgBc,OAAO,IACpB;AACI,YAAGA,OAAO,CAACZ,IAAR,KAAe,OAAlB,EACA;AACIW,UAAAA,SAAS,CAACV,IAAV,CAAe;AACXC,YAAAA,SAAS,EAAEU,OAAO,CAACT,GAAR,CAAYC,EADZ;AAEXC,YAAAA,WAAW,EAAEO,OAAO,CAACT,GAAR,CAAYG,IAAZ,GAAmBD,WAFrB;AAGXE,YAAAA,YAAY,EAAEK,OAAO,CAACT,GAAR,CAAYG,IAAZ,GAAmBC,YAHtB;AAIXC,YAAAA,kBAAkB,EAAGI,OAAO,CAACT,GAAR,CAAYG,IAAZ,GAAmBE,kBAJ7B;AAKXC,YAAAA,UAAU,EAACG,OAAO,CAACT,GAAR,CAAYG,IAAZ,GAAmBG;AALnB,WAAf;AAOH;;AACD,aAAKC,QAAL,CAAc;AACVpB,UAAAA,KAAK,EAACqB;AADI,SAAd;AAGH,OAfJ;AAgBH,KAlBD;AAqBA;;AAEDE,EAAAA,MAAM,GACN;AACI,wBACE,QAAC,eAAD,CAAiB,QAAjB;AAA2B,MAAA,KAAK,EAAE;AAACxB,QAAAA,QAAQ,EAAC,CAAC,GAAG,KAAKD,KAAL,CAAWC,QAAf,CAAV;AAAmCC,QAAAA,KAAK,EAAC,CAAC,GAAG,KAAKF,KAAL,CAAWE,KAAf;AAAzC,OAAlC;AAAA,gBACK,KAAKwB,KAAL,CAAWC;AADhB;AAAA;AAAA;AAAA;AAAA,YADF;AAKH;;AAlEwD;AAmE5D","sourcesContent":["import React, {createContext} from 'react';\r\nimport database from '../../firebase';\r\n\r\nexport const ProductsContext = createContext();\r\n\r\nexport class ProductsContextProvider extends React.Component {\r\n \r\n    //defining an innitial state with empty array of products\r\n    state=\r\n    {\r\n      products : [],\r\n      tvies:[]\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n     const prevProducts= this.state.products;\r\n     database.collection('Computers').onSnapshot(snapshot=>{\r\n         let changes = snapshot.docChanges();\r\n         changes.forEach(change=>\r\n            {\r\n                if(change.type==='added')\r\n                {\r\n                    prevProducts.push({\r\n                        ProductID: change.doc.id,\r\n                        ProductName: change.doc.data().ProductName,\r\n                        ProductPrice: change.doc.data().ProductPrice,\r\n                        ProductDescription : change.doc.data().ProductDescription,\r\n                        ProductImg:change.doc.data().ProductImg,\r\n                    })\r\n                }\r\n                this.setState({\r\n                    products:prevProducts\r\n                })\r\n            })\r\n     })\r\n\r\n\r\n\r\n\r\n     const prevTvies= this.state.tvies;\r\n     database.collection('Tvies').onSnapshot(snapshot=>{\r\n         let changes = snapshot.docChanges();\r\n         changes.forEach(change1=>\r\n            {\r\n                if(change1.type==='added')\r\n                {\r\n                    prevTvies.push({\r\n                        ProductID: change1.doc.id,\r\n                        ProductName: change1.doc.data().ProductName,\r\n                        ProductPrice: change1.doc.data().ProductPrice,\r\n                        ProductDescription : change1.doc.data().ProductDescription,\r\n                        ProductImg:change1.doc.data().ProductImg,\r\n                    })\r\n                }\r\n                this.setState({\r\n                    tvies:prevTvies\r\n                })\r\n            })\r\n     })\r\n\r\n\r\n    }\r\n\r\n    render()\r\n    {\r\n        return(\r\n          <ProductsContext.Provider  value={{products:[...this.state.products],tvies:[...this.state.tvies]}}>\r\n              {this.props.children}\r\n          </ProductsContext.Provider>\r\n        )\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}